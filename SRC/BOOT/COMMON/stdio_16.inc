;----------------------------------------------------
;                  stdio_16.inc
;                   2014-07-02
;                 Brian T. Hoover
;   USE AT OWN RISK, I assume no responsibilities!
;----------------------------------------------------

%ifndef __STDIO_16_INC__INCLUDED__
%define __STDIO_16_INC__INCLUDED__

[bits 16]

;----------------------------------------------------
;                       puts
;         SI => String Pointer (0 Terminated)
;----------------------------------------------------
puts:
;----------------------------------------------------
;                   Save Registers
;----------------------------------------------------
	pusha
;----------------------------------------------------
;                     String Loop
;----------------------------------------------------
	.PutsLoop:
;----------------------------------------------------
;              Load Next Byte From SI to AL
;----------------------------------------------------
		lodsb
;----------------------------------------------------
;               Check for Terminator (0)
;----------------------------------------------------
		or al, al
		jz PutsDone
;----------------------------------------------------
;               Print Charactor To Screen
;----------------------------------------------------
		mov ah, 0eh
		int 10h
;----------------------------------------------------
;                   Continue Loop
;----------------------------------------------------
		jmp .PutsLoop
;----------------------------------------------------
;                 String Terminated
;----------------------------------------------------
	PutsDone:
;----------------------------------------------------
;                 Restore Registers
;----------------------------------------------------
		popa
;----------------------------------------------------
;                      Return
;----------------------------------------------------
		ret
		


%endif	;__STDIO_16_INC__INCLUDED__